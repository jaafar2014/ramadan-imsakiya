<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ø°ÙƒÙŠØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:'Cairo',sans-serif;background:#0b0b0b;color:#fff;overflow-x:hidden;}
.menu-btn{position:fixed;top:15px;right:15px;font-size:26px;cursor:pointer;z-index:1100;}
.sidebar{position:fixed;top:0;right:-100%;width:260px;height:100%;background:#111;padding:20px;transition:.4s;z-index:1200;}
.sidebar.active{right:0;}
.sidebar h3{color:#f0b36d;margin-bottom:15px;}
.sidebar select{width:100%;margin-bottom:15px;padding:10px;border-radius:8px;border:none;font-family:'Cairo';}
.close-btn{font-size:20px;cursor:pointer;text-align:left;margin-bottom:10px;}
.container{max-width:430px;margin:auto;padding:20px;}
.profile{text-align:center;margin-top:20px;}
.title-top{font-size:15px;color:#f0b36d;margin-bottom:10px;}
.avatar{width:160px;height:160px;margin:auto;border-radius:50%;border:6px solid #f0b36d;overflow:hidden;}
.avatar img{width:100%;height:100%;object-fit:cover;}
.memorial{margin-top:12px;font-size:15px;color:#ddd;}
.name{margin-top:6px;font-size:22px;color:#f0b36d;font-weight:700;}
.dua{margin-top:10px;font-size:14px;line-height:1.8;color:#ddd;}
.today{margin:20px 0;padding:15px;background:#151515;border-radius:14px;text-align:center;opacity:0;transform:translateY(10px);transition:.4s;}
.today.show{opacity:1;transform:translateY(0);}
.times{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.time-box{background:#151515;padding:12px;border-radius:12px;text-align:center;}
.time-box span{display:block;color:#f0b36d;font-weight:700;margin-top:6px;}
.countdown{margin-top:20px;background:linear-gradient(135deg,#f0b36d,#f7c58c);color:#000;padding:15px;border-radius:18px;text-align:center;font-weight:700;}
.calendar{margin-top:30px;}
.calendar h3{text-align:center;color:#f0b36d;}
.days{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:15px;}
.days button{background:#151515;color:#fff;border:none;padding:10px;border-radius:10px;cursor:pointer;font-family:'Cairo';}
.days button.active{background:#f0b36d;color:#000;font-weight:700;}
</style>
</head>

<body>

<div class="menu-btn" onclick="toggleMenu()">â˜°</div>

<div class="sidebar" id="sidebar">
  <div class="close-btn" onclick="toggleMenu()">âœ•</div>
  <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>

  <select id="citySelect" onchange="updateRegions()">
    <option value="basra">Ø§Ù„Ø¨ØµØ±Ø©</option>
    <option value="baghdad">Ø¨ØºØ¯Ø§Ø¯</option>
    <option value="najaf">Ø§Ù„Ù†Ø¬Ù</option>
    <option value="karbala">ÙƒØ±Ø¨Ù„Ø§Ø¡</option>
  </select>

  <select id="regionSelect"></select>
</div>

<div class="container">

<div class="profile">
  <div class="title-top">Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© 2026Ù… â€“ 1447Ù‡Ù€</div>
  <div class="avatar"><img src="IMG_20260206_214353.jpg"></div>
  <div class="memorial">Ø§Ù„ÙØ§ØªØ­Ø© Ø¹Ù„Ù‰ Ø±ÙˆØ­ Ø§Ù„Ø´Ù‡ÙŠØ¯</div>
  <div class="name">Ø£Ù…Ø§Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø¬Ø¨Ø§Ø± Ø¹Ø¨Ø¯Ø§Ù„Ø±ÙØ¶Ø§</div>
  <div class="dua">Ø§Ù„Ù„Ù‡Ù… Ø§ØºÙØ± Ù„Ù‡ ÙˆØ§Ø±Ø­Ù…Ù‡ ÙˆØ§Ø¹ÙÙ Ø¹Ù†Ù‡ØŒ ÙˆØ£Ø³ÙƒÙ†Ù‡ ÙØ³ÙŠØ­ Ø¬Ù†Ø§ØªÙƒ.</div>
</div>

<div class="today" id="todayBox"></div>

<div class="times">
  <div class="time-box">Ø§Ù„Ø¥Ù…Ø³Ø§Ùƒ<span id="imsak"></span></div>
  <div class="time-box">Ø§Ù„ÙØ¬Ø±<span id="fajr"></span></div>
  <div class="time-box">Ø§Ù„Ø´Ø±ÙˆÙ‚<span id="sunrise"></span></div>
  <div class="time-box">Ø§Ù„Ø¸Ù‡Ø±<span id="dhuhr"></span></div>
  <div class="time-box">Ø§Ù„Ø¹ØµØ±<span id="asr"></span></div>
  <div class="time-box">Ø§Ù„Ù…ØºØ±Ø¨<span id="maghrib"></span></div>
</div>

<div class="countdown" id="countdown"></div>

<div class="calendar">
  <h3>Ø£ÙŠØ§Ù… Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù†</h3>
  <div class="days" id="ramadanDays"></div>
</div>

</div>

<script>
function toggleMenu(){document.getElementById("sidebar").classList.toggle("active");}

const cityCoords={
  basra:{lat:30.5085,lon:47.7804},
  baghdad:{lat:33.3152,lon:44.3661},
  najaf:{lat:31.9996,lon:44.3260},
  karbala:{lat:32.6160,lon:44.0249}
};

let maghribTime=null;

async function fetchPrayerTimes(){
  const city=citySelect.value;
  const {lat,lon}=cityCoords[city];
  const res=await fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=4`);
  const data=await res.json();
  const t=data.data.timings;

  imsak.innerText=t.Imsak;
  fajr.innerText=t.Fajr;
  sunrise.innerText=t.Sunrise;
  dhuhr.innerText=t.Dhuhr;
  asr.innerText=t.Asr;
  maghrib.innerText=t.Maghrib;

  const now=new Date();
  const [h,m]=t.Maghrib.split(":");
  maghribTime=new Date(now.getFullYear(),now.getMonth(),now.getDate(),h,m,0);
}

setInterval(()=>{
  if(!maghribTime)return;
  const now=new Date();
  let diff=maghribTime-now;
  if(diff<=0){countdown.innerText="ğŸŒ™ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø¥ÙØ·Ø§Ø±";return;}
  const mins=Math.floor(diff/60000);
  const secs=Math.floor((diff%60000)/1000);
  countdown.innerText=`Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø¥ÙØ·Ø§Ø±: ${mins} Ø¯Ù‚ÙŠÙ‚Ø© Ùˆ ${secs} Ø«Ø§Ù†ÙŠØ©`;
},1000);

/* ===== Ø§Ù„Ø±ÙˆØ²Ù†Ø§Ù…Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© API ===== */

const daysBox=document.getElementById("ramadanDays");
const todayBox=document.getElementById("todayBox");

function renderDays(){
  daysBox.innerHTML="";
  for(let i=1;i<=30;i++){
    const b=document.createElement("button");
    b.textContent=i;
    b.onclick=()=>selectDay(i,b);
    daysBox.appendChild(b);
  }
}

async function selectDay(day,btn){
  document.querySelectorAll(".days button").forEach(x=>x.classList.remove("active"));
  if(btn)btn.classList.add("active");

  const year=new Date().getFullYear();
  const res=await fetch(`https://api.aladhan.com/v1/hToG?date=${day}-9-${year}`);
  const data=await res.json();

  const g=data.data.gregorian;
  const h=data.data.hijri;

  todayBox.classList.remove("show");
  setTimeout(()=>{
    todayBox.innerHTML=
    `Ø§Ù„ÙŠÙˆÙ…: ${g.weekday.ar}<br>
     ${h.day} ${h.month.ar} ${h.year} Ù‡Ù€<br>
     Ø§Ù„Ù…ÙˆØ§ÙÙ‚: ${g.day} ${g.month.ar} ${g.year} Ù…<br><br>
     Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…:<br>
     Ø§Ù„Ù„Ù‡Ù… ØªÙ‚Ø¨Ù‘Ù„ ØµÙŠØ§Ù…ÙŠ ÙˆÙ‚ÙŠØ§Ù…ÙŠ ÙˆØ§Ø¬Ø¹Ù„Ù†ÙŠ Ù…Ù† Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„ÙŠÙ†.`;
    todayBox.classList.add("show");
  },200);
}

renderDays();
fetchPrayerTimes();
</script>

</body>
</html>
