<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>إمساكية رمضان الذكية</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<style>
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:#0b0b0b;
  color:#fff;
  overflow-x:hidden;
}

/* زر القائمة */
.menu-btn{
  position:fixed;
  top:15px;
  right:15px;
  font-size:26px;
  cursor:pointer;
  z-index:1100;
}

/* القائمة الجانبية */
.sidebar{
  position:fixed;
  top:0;
  right:-100%;
  width:260px;
  height:100%;
  background:#111;
  padding:20px;
  transition:0.4s;
  z-index:1200;
}
.sidebar.active{ right:0; }
.sidebar h3{ color:#f0b36d; margin-bottom:15px; }
.sidebar select{
  width:100%;
  margin-bottom:15px;
  padding:10px;
  border-radius:8px;
  border:none;
  font-family:'Cairo';
}
.close-btn{
  font-size:20px;
  cursor:pointer;
  margin-bottom:10px;
}

/* المحتوى */
.container{
  max-width:430px;
  margin:auto;
  padding:20px;
}

.profile{
  text-align:center;
  margin-top:40px;
}

.avatar{
  width:160px;
  height:160px;
  margin:auto;
  border-radius:50%;
  border:6px solid #f0b36d;
  overflow:hidden;
}
.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.name{
  margin-top:15px;
  font-size:22px;
  color:#f0b36d;
  font-weight:700;
}

.dua{
  margin-top:10px;
  font-size:14px;
  line-height:1.8;
  color:#ddd;
}

.today{
  margin:20px 0;
  padding:15px;
  background:#151515;
  border-radius:14px;
  text-align:center;
  opacity:0;
  transform:translateY(10px);
  transition:0.4s;
}
.today.show{
  opacity:1;
  transform:translateY(0);
}

.times{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}

.time-box{
  background:#151515;
  padding:12px;
  border-radius:12px;
  text-align:center;
}
.time-box span{
  display:block;
  color:#f0b36d;
  font-weight:700;
  margin-top:6px;
}

.countdown{
  margin-top:20px;
  background:linear-gradient(135deg,#f0b36d,#f7c58c);
  color:#000;
  padding:15px;
  border-radius:18px;
  text-align:center;
  font-weight:700;
}

.calendar{
  margin-top:30px;
}
.calendar h3{
  text-align:center;
  color:#f0b36d;
}

.days{
  display:grid;
  grid-template-columns:repeat(6,1fr);
  gap:8px;
  margin-top:15px;
}

.days button{
  background:#151515;
  color:#fff;
  border:none;
  padding:10px;
  border-radius:10px;
  cursor:pointer;
  font-family:'Cairo';
}
.days button.active{
  background:#f0b36d;
  color:#000;
  font-weight:700;
}

.save-btn{
  margin-top:15px;
  width:100%;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#f0b36d;
  font-family:'Cairo';
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="menu-btn" onclick="toggleMenu()">☰</div>

<div class="sidebar" id="sidebar">
  <div class="close-btn" onclick="toggleMenu()">✕</div>
  <h3>الإعدادات</h3>
  <select>
    <option>البصرة</option>
    <option>بغداد</option>
    <option>النجف</option>
    <option>كربلاء</option>
    <option>ذي قار</option>
    <option>ميسان</option>
  </select>
  <select>
    <option>الوقف الشيعي</option>
    <option>الوقف السني</option>
  </select>
</div>

<div class="container" id="capture">

<div class="profile">
  <div class="avatar">
    <img src="IMG_20260206_214353.jpg">
  </div>
  <div class="name">أمان عبدالجبار عبدالرِضا</div>
  <div class="dua">
    اللهم اغفر له وارحمه واعفُ عنه، وأسكنه فسيح جناتك.
  </div>
</div>

<div class="today" id="todayBox"></div>

<div class="times">
  <div class="time-box">الإمساك<span>05:05</span></div>
  <div class="time-box">الفجر<span>05:15</span></div>
  <div class="time-box">الشروق<span>06:27</span></div>
  <div class="time-box">الظهر<span>12:03</span></div>
  <div class="time-box">العصر<span>15:13</span></div>
  <div class="time-box">المغرب<span>17:54</span></div>
</div>

<div class="countdown" id="countdown">الوقت المتبقي للإفطار</div>

<div class="calendar">
  <h3>أيام شهر رمضان</h3>
  <div class="days" id="ramadanDays"></div>
</div>

<button class="save-btn" onclick="saveImage()">حفظ صورة اليوم</button>

</div>

<script>
function toggleMenu(){
  document.getElementById("sidebar").classList.toggle("active");
}

const ramadanStart = new Date(2026,1,18);
const daysNames = ["الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"];

const duas = [
"اللهم اجعل صيامي فيه صيام الصائمين.",
"اللهم قرّبني فيه إلى مرضاتك.",
"اللهم ارزقني فيه الذهن والتنبيه.",
"اللهم طهّرني فيه من الأدناس.",
"اللهم لا تخذلني فيه لتعرض معصيتك.",
"اللهم وفقني فيه لطاعتك.",
"اللهم أعنّي فيه على صيامه وقيامه.",
"اللهم ارزقني فيه رحمة الأيتام.",
"اللهم وسّع عليّ فيه رزقي.",
"اللهم اجعلني فيه من المتوكلين.",
"اللهم حبّب إليّ فيه الإحسان.",
"اللهم زيّني فيه بالستر والعفاف.",
"اللهم طهّرني فيه من الدنس.",
"اللهم ارزقني فيه فضل ليلة القدر.",
"اللهم ارزقني فيه القبول.",
"اللهم وفّقني فيه لموافقة الأبرار.",
"اللهم دلّني فيه على صالح الأعمال.",
"اللهم اجعلني فيه من المقبولين.",
"اللهم افتح لي فيه أبواب رحمتك.",
"اللهم قوّني فيه على إقامة أمرك.",
"اللهم ارزقني فيه طاعة الخاشعين.",
"اللهم ارزقني فيه فضل قيام الليل.",
"اللهم اجعلني فيه من المستغفرين.",
"اللهم طهّر قلبي من الرياء.",
"اللهم اجعلني فيه من الشاكرين.",
"اللهم وفّقني فيه لطاعتك.",
"اللهم اجعل عملي فيه مقبولًا.",
"اللهم ارزقني فيه الإخلاص.",
"اللهم اختم لي فيه بالقبول.",
"اللهم تقبّل مني هذا الشهر."
];

const daysContainer=document.getElementById("ramadanDays");
const todayBox=document.getElementById("todayBox");

function renderDays(){
  const today=new Date();
  const diff=Math.floor((today-ramadanStart)/86400000)+1;

  for(let i=1;i<=30;i++){
    const btn=document.createElement("button");
    btn.textContent=i;
    if(i===diff) btn.classList.add("active");
    btn.onclick=()=>selectDay(i,btn);
    daysContainer.appendChild(btn);
  }
  selectDay(diff>0 && diff<=30 ? diff : 1);
}

function selectDay(day,btn){
  document.querySelectorAll(".days button").forEach(b=>b.classList.remove("active"));
  if(btn) btn.classList.add("active");

  todayBox.classList.remove("show");
  setTimeout(()=>{
    const date=new Date(ramadanStart);
    date.setDate(ramadanStart.getDate()+day-1);
    todayBox.innerHTML=
      `اليوم: ${daysNames[date.getDay()]} – ${day} رمضان 1447 هـ<br>
       الموافق: ${date.toLocaleDateString('ar-IQ')}<br><br>
       دعاء اليوم:<br>${duas[day-1]}`;
    todayBox.classList.add("show");
  },200);
}

function saveImage(){
  html2canvas(document.getElementById("capture")).then(canvas=>{
    const link=document.createElement("a");
    link.download="imsakiya-day.png";
    link.href=canvas.toDataURL();
    link.click();
  });
}

renderDays();
</script>

</body>
</html>
